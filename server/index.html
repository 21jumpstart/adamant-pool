<!DOCTYPE html>
<html> 
	<head>
		<meta charset="utf-8">
		<meta name="description" content="Welcome to ADAMANT Forging Pool. Join to earn ADM and support decentralization.">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
		<title>ADAMANT Forging Pool</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
		<script src="https://use.fontawesome.com/ecd0a414f6.js"></script>
		<script	src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
		<script src="http://underscorejs.ru/underscore.js"></script>
		<script src="http://momentjs.com/downloads/moment-with-locales.min.js"></script>
		<link rel="stylesheet" href="/assets/styles.css">
	</head> 
	<body>
		<div class="preloader">
			<span>
				<img src="https://msg.adamant.im/img/adamant-logo-transparent-512x512.png"/>
				<div>ADAMANT Forging Pool</div>
			</span>
		</div>
		<div id="panel">
			<div class="topnav content">
				<div class="row header">
					<h1 class="h1_header"><img src="https://msg.adamant.im/img/adamant-logo-transparent-512x512.png" class="logo"/>ADAMANT Forging Pool&nbsp;<i class="fa fa-refresh refresh" style="font-size: 20px; color: rgb(221, 221, 221);" aria-hidden="true" @click="fRefresh"></i></h1>
					<a :href="'https://explorer.adamant.im/delegate/'+delegate.address" target="_blank" style="margin-top: 30px;">{{delegate.delegate.username}}</a>
				</div>
			</div>
			<div class="content main">
				<div class="row" style="margin: 120px 0px 25px 0px">Delegate <i>{{delegate.delegate.username}}</i> distributes <i>{{system.reward_percentage}}%</i> rewards with payouts every <i>{{system.payoutperiod}}</i>. Minimum payout is <i>{{system.minpayout}}</i> ADM.</div>
				
				<div id="cards" class="row">
					<div class="card" style="background-color: rgb(238, 238, 238);">	<span>
						Total forged: {{(delegate.delegate.forged/100000000).toFixed(1)}} ADM<br>
						Votes weight: {{(delegate.delegate.votesWeight/100000000).toFixed(0)}} ADM<br>
						Votes count: {{delegate.voters.length}}
					</span></div>
					<div class="card" style="background-color: rgb(221, 221, 221);"><span>
						Productivity: {{delegate.delegate.productivity}}%<br>
						Approval: {{delegate.delegate.approval}}<br>
						Rank: {{delegate.delegate.rank}}
					</span></div>
					<div class="card" style="background-color: rgb(238, 238, 238);">	<span>
						Balance: {{(delegate.balance/100000000 || 0).toFixed(3)}}<br>
						Period forge: {{(system.payoutperiodForged || 0).toFixed(3)}}<br>
						Pending: {{totalPending}}
					</span></div>
					<div class="card" style="background-color: rgb(221, 221, 221);">	<span>
						Last payout: {{lastPayOut}}<br>
						Next payout: {{nextPayOut}}</br>
						Payout period: {{system.payoutperiod}}
					</div>
					</span></div>
					
					<div class="container row"> 
						<h1><i class="fa fa-thumbs-o-up" aria-hidden="true"></i> Voters</h2>
						<table>
							<tr>
								<th>#</th>
								<th>Address</th>
								<th v-for="th in th_voters" 
								@click="sortRows('voters',th.field)" 
								:class="{'active':sorted_field==th.field}" class="is-sorted">
									{{th.title}} <i class="fa" 
									:class="{'fa-sort-asc':sorted_field==th.field && sorted>0, 'fa-sort-desc':sorted_field==th.field && sorted<0}" aria-hidden="true" ></i>
								</th>
							</tr>
							<tr v-for="(v,i) in voters" :key="i" v-if="v.isPaginVisible!==false">
								<td>{{i+1}}</td>
								<td><a :href="'https://explorer.adamant.im/address/'+v.address" target="_blank">{{v.address}}</a></td>
								<td>{{v.pending.toFixed(4)}}</td>
								<td>{{v.received.toFixed(4)}}</td>
								<td>{{(v.userADM).toFixed(0)}}</td>
								<td>{{(v.userWeight).toFixed(0)}}</td>
								<td>{{v.userVotesNumber}}</td>  
							</tr>
							
						</table>	
						<pagin :options="{rows:voters}"></pagin>
					</div>
					<div class="container row"> 
						<h1><i class="fa fa-diamond" aria-hidden="true"></i> Transactions</h2>
						<table>
							<tr>
								<th>#</th>
								<th>Address</th>
								<th>TransactionId</th>
								<th v-for="th in th_trans" 
								@click="sortRows('transactions',th.field)" 
								:class="{'active':sorted_field==th.field}" class="is-sorted">
									{{th.title}} <i class="fa" 
									:class="{'fa-sort-asc':sorted_field==th.field && sorted>0, 'fa-sort-desc':sorted_field==th.field && sorted<0}" aria-hidden="true" ></i>
								</th>
							</tr>
							<tr v-for="(t,i) in transactions" :key="i" v-if="t.isPaginVisible!==false"> 
								<td>{{i+1}}</td>
								<td>{{t.address}}</td>
								<td>{{t.transactionId}}</td>
								<td>{{t.payoutcount.toFixed(4)}}</td>
								<td>{{moment(t.timeStamp).format(FORMAT_TRANS)}}</td>
							</tr>
						</table>
						<pagin :options="{rows:transactions}" ></pagin>
					</div>
			</div>
		</div>
		<div class="bottomnav content">
			<div class="row bottom-links">
				<a href="https://adamant.im" target="_blank" title="Go to ADAMANT Website">Adamant.im</a>
				<a href="https://adamant.im/#adm-apps" target="_blank" title="Start Messaging">Messenger Apps</a>
				<a href="https://github.com/Adamant-im/adamant-pool" target="_blank" title="ADAMANT Forging Pool GitHub">GitHub</a>
				<a href="https://medium.com/adamant-im/join-the-official-adamant-pool-d3def33fb99c" target="_blank" title="Join forging and earn ADM">Join Pool</a>
				<a href="https://medium.com/adamant-im" target="_blank" title="Create own ADAMANT Forging Pool and earn ADM">Create own Pool</a>
				
			</div>
		</div>
		<script src="/assets/view.js"></script> 
		<script src="/assets/components/pagin.js"></script> 
		
	</body>	
	
</html>													
